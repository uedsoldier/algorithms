{
    // CMake settings
    "cmake.sourceDirectory": "${workspaceFolder}",
    "cmake.buildDirectory": "${workspaceFolder}/build",
    // !!! CHANGE FOR LINUX: Set this to "Unix Makefiles" when on Linux
    "cmake.generator": "MinGW Makefiles",
    "cmake.configureSettings": {
        "CMAKE_BUILD_TYPE": "Debug",
        "CMAKE_EXPORT_COMPILE_COMMANDS": true
    },
    "cmake.configureOnOpen": true,
    "cmake.parallelJobs": 0,  // 0 means auto-detect number of processors
    "cmake.debugConfig": {
        "stopAtEntry": true,
        "cwd": "${workspaceFolder}"
    },

    // C/C++ settings
    "C_Cpp.default.configurationProvider": "ms-vscode.cmake-tools",
    "C_Cpp.clang_format_fallbackStyle": "{ BasedOnStyle: Google, IndentWidth: 4 }",
    "C_Cpp.default.cStandard": "c11",
    // !!! CHANGE FOR LINUX: Set this to "linux-gcc-x64" when on Linux
    "C_Cpp.default.intelliSenseMode": "windows-gcc-x64",

    // File associations
    "files.associations": {
        "freertos.h": "c",
        ".env*": "dotenv",
        "array": "cpp",
        "atomic": "cpp",
        "*.tcc": "c",
        "cctype": "cpp",
        "clocale": "cpp",
        "cmath": "cpp",
        "cstdarg": "cpp",
        "cstddef": "cpp",
        "cstdint": "cpp",
        "cstdio": "cpp",
        "cstdlib": "cpp",
        "cwchar": "cpp",
        "cwctype": "cpp",
        "deque": "cpp",
        "unordered_map": "cpp",
        "vector": "cpp",
        "exception": "cpp",
        "algorithm": "c",
        "functional": "cpp",
        "iterator": "cpp",
        "map": "cpp",
        "memory": "cpp",
        "memory_resource": "cpp",
        "numeric": "cpp",
        "random": "cpp",
        "string": "cpp",
        "system_error": "cpp",
        "tuple": "cpp",
        "type_traits": "cpp",
        "utility": "cpp",
        "fstream": "cpp",
        "initializer_list": "cpp",
        "iosfwd": "cpp",
        "iostream": "cpp",
        "istream": "cpp",
        "limits": "cpp",
        "new": "cpp",
        "ostream": "cpp",
        "sstream": "cpp",
        "stdexcept": "cpp",
        "streambuf": "cpp",
        "cinttypes": "cpp",
        "typeinfo": "cpp",
        "rylr998.h": "c",
        "rylr993.h": "c",
        "stdbool.h": "c",
        "stdint.h": "c",
        "list": "cpp",
        "bit": "cpp",
        "compare": "cpp",
        "concepts": "cpp",
        "optional": "cpp",
        "string_view": "cpp",
        "numbers": "cpp",
        "esp_log.h": "c",
        "task.h": "c",
        "cstdbool": "cpp",
        "assert.h": "c",
        "board_init_status.h": "c",
        "byte_manipulation.h": "c",
        "string_manipulation.h": "c",
        "math_operations.h": "c",
        "string_manipulation_lite.h": "c",
        "xtea.h": "c",
        "stdlib.h": "c",
        "sha1.h": "c",
        "pkcs7.h": "c",
        "aes128.h": "c",
        "aes_common.h": "c",
        "aes192.h": "c",
        "string.h": "c",
        "string_custom.h": "c",
        "aes.h": "c",
        "*.h": "c",
        "base64.h": "c",
        "*.c": "c",
        "CMakeLists.txt": "cmake",
        "cstring": "cpp"
    },

    // Editor settings for C files
    "[c]": {
        "editor.formatOnSave": true,
        "editor.formatOnType": true,
        "editor.tabSize": 4,
        "editor.insertSpaces": true,
        "editor.detectIndentation": false
    },

    // Terminal settings - Windows
    "terminal.integrated.defaultProfile.windows": "Command Prompt",
    // !!! CHANGE FOR LINUX: These Windows-specific paths won't be used on Linux
    "terminal.integrated.env.windows": {
        "MINGW_PATH": "E:/MinGW/bin",        // Adjust this path to your MinGW installation
        "CC": "E:/MinGW/bin/gcc.exe",        // Adjust this path to your MinGW installation
        "PATH": "${env:PATH};E:/MinGW/bin"   // Adjust this path to your MinGW installation
    },

    // Terminal settings - Linux
    "terminal.integrated.defaultProfile.linux": "bash",
    // !!! CHANGE FOR LINUX: Verify this path matches your gcc installation
    "terminal.integrated.env.linux": {
        "CC": "/usr/bin/gcc"
    },

    "terminal.integrated.scrollback": 10000,

    // Compiler path - platform specific
    "C_Cpp.default.compilerPath": {
        "windows": "${env:CC}",
        // !!! CHANGE FOR LINUX: Verify this path matches your gcc installation
        "linux": "/usr/bin/gcc"
    },

    // Disable Codium code completion if you're using it
    "codium.codeCompletion.enable": false,

    // File handling
    "files.trimTrailingWhitespace": true,
    "files.insertFinalNewline": true,
    "files.trimFinalNewlines": true,

    // Line ending settings
    "files.eol": "\n",  // Use LF even on Windows for consistency

    // Preferred generators - these will work on both platforms
    // CMake will automatically select the first available generator
    "cmake.preferredGenerators": [
        "MinGW Makefiles",
        "Unix Makefiles",
        "Ninja"
    ]
}
