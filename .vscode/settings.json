{
    // CMake settings
    "cmake.sourceDirectory": "${workspaceFolder}",
    "cmake.buildDirectory": "${workspaceFolder}/build",
    // !!! CHANGE FOR LINUX: Set this to "Unix Makefiles" when on Linux
    "cmake.generator": "MinGW Makefiles",
    "cmake.configureSettings": {
        "CMAKE_BUILD_TYPE": "Debug",
        "CMAKE_EXPORT_COMPILE_COMMANDS": true
    },
    "cmake.configureOnOpen": true,
    "cmake.parallelJobs": 0,  // 0 means auto-detect number of processors
    "cmake.debugConfig": {
        "stopAtEntry": true,
        "cwd": "${workspaceFolder}"
    },

    // C/C++ settings
    "C_Cpp.default.configurationProvider": "ms-vscode.cmake-tools",
    "C_Cpp.clang_format_fallbackStyle": "{ BasedOnStyle: Google, IndentWidth: 4 }",
    "C_Cpp.default.cStandard": "c11",
    // !!! CHANGE FOR LINUX: Set this to "linux-gcc-x64" when on Linux
    "C_Cpp.default.intelliSenseMode": "windows-gcc-x64",

    // File associations
    "files.associations": {
        "*.h": "c",
        "aes.h": "c",
        "pkcs7.h": "c",
        "base64.h": "c",
        "*.c": "c",
        "CMakeLists.txt": "cmake"
    },

    // Editor settings for C files
    "[c]": {
        "editor.formatOnSave": true,
        "editor.formatOnType": true,
        "editor.tabSize": 4,
        "editor.insertSpaces": true,
        "editor.detectIndentation": false
    },

    // Terminal settings - Windows
    "terminal.integrated.defaultProfile.windows": "Command Prompt",
    // !!! CHANGE FOR LINUX: These Windows-specific paths won't be used on Linux
    "terminal.integrated.env.windows": {
        "MINGW_PATH": "E:/MinGW/bin",        // Adjust this path to your MinGW installation
        "CC": "E:/MinGW/bin/gcc.exe",        // Adjust this path to your MinGW installation
        "PATH": "${env:PATH};E:/MinGW/bin"   // Adjust this path to your MinGW installation
    },

    // Terminal settings - Linux
    "terminal.integrated.defaultProfile.linux": "bash",
    // !!! CHANGE FOR LINUX: Verify this path matches your gcc installation
    "terminal.integrated.env.linux": {
        "CC": "/usr/bin/gcc"
    },

    "terminal.integrated.scrollback": 10000,

    // Compiler path - platform specific
    "C_Cpp.default.compilerPath": {
        "windows": "${env:CC}",
        // !!! CHANGE FOR LINUX: Verify this path matches your gcc installation
        "linux": "/usr/bin/gcc"
    },

    // Disable Codium code completion if you're using it
    "codium.codeCompletion.enable": false,

    // File handling
    "files.trimTrailingWhitespace": true,
    "files.insertFinalNewline": true,
    "files.trimFinalNewlines": true,

    // Line ending settings
    "files.eol": "\n",  // Use LF even on Windows for consistency

    // Preferred generators - these will work on both platforms
    // CMake will automatically select the first available generator
    "cmake.preferredGenerators": [
        "MinGW Makefiles",
        "Unix Makefiles",
        "Ninja"
    ]
}
